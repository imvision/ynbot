{
  "name": "steam-trade",
  "version": "0.1.0",
  "dependencies": {
    "request": "*"
  },
  "readme": "# Steam trading for Node.js\r\n\r\nAllows you to automate Steam trading in Node.js.\r\n\r\n# Installation\r\n\r\n```\r\nnpm install git://github.com/seishun/node-steam-trade.git\r\n```\r\n\r\n# Usage\r\nInstantiate a SteamTrade object...\r\n\r\n```js\r\nvar SteamTrade = require('steam-trade');\r\nvar steamTrade = new SteamTrade();\r\n```\r\n\r\n...then do the following:\r\n\r\n* Set its `sessionID` property to a valid web session ID. In [node-steam](https://github.com/seishun/node-steam), you can use the `webSessionID` event to get it.\r\n* Call its `setCookie` method with each of your cookies. In node-steam, you can use the `webLogOn` method to get them. (Note: node-steam's `webLogOn` joins the cookies into a single string with a semicolon. You will have to split it and call `setCookie` with each separately.)\r\n\r\nDo not make multiple method calls in the same tick (e.g. `trade.addItems(items); trade.ready();`) - instead, make the second call in the callback provided to the first one (`trade.addItems(items, function(res) {trade.ready();});`). The callback will be passed the parsed JSON response from Steam (`res` in the example). You can use it for error checking: if something went wrong, `res.success` will be `false` and `res.error` should be a human-readable string. \r\n\r\n\r\n# Methods\r\n\r\n## open(steamID, callback)\r\nInitializes a trade with the specified SteamID. The trade handshake must have completed at this point - in node-steam, listen for a `sessionStarted` event. Don't use any other methods until you've opened a trade. Use `callback` if you want to add some items immediately after opening the trade.\r\n\r\n`tradePartnerSteamID` property will contain `steamID` for the duration of the trade.\r\n\r\n## loadInventory(appid, contextid, callback)\r\nLoads your library for the given app and context, then calls `callback` with the inventory object. For example, use 440 and 2 for TF2 and 570 and 2 for Dota2.\r\n\r\n## getContexts(callback)\r\nGets the list of available contexts. `callback` will be called with an object extracted directly from the trading page.\r\n\r\n## themAssets()\r\nReturns an array of the other party's offered items.\r\n\r\n## addItems(items, [callback])\r\nAdds the specified items from your inventory. `items` must be an array. Create an array of a single item if you only want to add one item. If any of the items are stackable (Spiral Knights crap), it will add the whole available amount. If want to add a certain amount, modify the item's `amount` property.\r\n\r\n`callback` will be called once all the items have been added. It will be provided an array of responses - one for each added item, in the same order.\r\n\r\n## removeItem(item, [callback])\r\nRemoves a single item from the trade.\r\n\r\n## ready([callback])\r\nPresses the big blue \"ready\" button. Again, use the callback if you want to confirm as well.\r\n\r\n## unready([callback])\r\nUnpresses the \"ready\" button.\r\n\r\n## confirm([callback])\r\nPresses the big green \"Make Trade\" button. Will silently fail if either side is not ready.\r\n\r\n## cancel([callback])\r\nCancels the trade. You will still receive the 'end' event.\r\n\r\n\r\n# Events\r\n\r\n## 'error'\r\n* `e` - an `Error` object\r\n\r\nnode-steam-trade has received a bad response while polling, assumed that your cookie has expired, and stopped polling. A possible cause is that you logged into this account from a browser on another computer.\r\n\r\nRefresh your web session (`webLogOn` in node-steam), call `setCookie` with the new cookies, then resume polling by reopening the trade (just call `trade.open(trade.tradePartnerSteamID)` and the existing trade will continue).\r\n\r\n## 'end'\r\n* 'complete', 'canceled' (by you), 'cancelled' (by them), 'timeout' or 'failed' \r\n* in case of 'complete', a `getItems` function\r\n\r\nTrade is closed. If you want to get the list of received items, call `getItems` with a function that will be called with an array of items.\r\n\r\n```js\r\ntrade.on('end', function(status, getItems) {\r\n  if (status == 'complete') {\r\n    getItems(function(items) {\r\n      console.log(items);\r\n    });\r\n  }\r\n});\r\n```\r\n\r\n## 'offerChanged'\r\n* `true` if an item was added, `false` if removed\r\n* the item object\r\n\r\n## 'ready'\r\nThe other side has pressed the big blue \"ready\" button.\r\n\r\n## 'unready'\r\nThe other side has changed their mind.\r\n\r\n## 'chatMsg'\r\nThey said something in the trade chat.\r\n",
  "readmeFilename": "README.md",
  "description": "Allows you to automate Steam trading in Node.js.",
  "_id": "steam-trade@0.1.0",
  "dist": {
    "shasum": "1957b0f589368d4a1335ec2f7c719988681c0633"
  },
  "_resolved": "git://github.com/seishun/node-steam-trade.git#1e3de438050e4888dae03c354ef8b97058fb5120",
  "_from": "git://github.com/seishun/node-steam-trade.git"
}
